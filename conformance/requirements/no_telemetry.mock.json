[
  {
    "project_name": "Edge Case Fixture",
    "product_brief": "Create a strict CLI tool with minimal dependencies and no telemetry.",
    "personas": [
      "Security analyst"
    ],
    "stories": [
      {
        "id": "edge-1",
        "title": "Create strict CLI scaffold",
        "story": "As a security analyst, I want a CLI tool with strict typing so that quality gates catch regressions.",
        "acceptance_criteria": [
          "README.md contains Install",
          "README.md contains Run",
          "mypy.ini exists"
        ],
        "nfr_tags": [
          "security",
          "reliability"
        ],
        "dependencies": [],
        "verification_commands": [
          "python -m pytest -q"
        ]
      }
    ],
    "nfrs": {
      "security": [
        "No secrets in repository.",
        "Strict typing enforced."
      ],
      "privacy": [
        "Telemetry disabled by default."
      ],
      "performance": [],
      "reliability": [
        "Strict type checks pass."
      ],
      "observability": [],
      "ux_accessibility": [],
      "compliance": []
    },
    "ambiguities": [],
    "contradictions": [],
    "missing_constraints": [],
    "edge_cases": [
      "No telemetry or external dependencies."
    ],
    "external_dependencies": [],
    "assumptions": [
      {
        "assumption": "Strict type checking is required.",
        "testable_criterion": "Given mypy strict config, when mypy runs, then it passes."
      }
    ],
    "stack_rationale": "Python standard library with strict typing keeps risk low.",
    "global_verification_commands": [
      "python -m pytest -q"
    ]
  },
  {
    "overview": "Strictly typed CLI tool with no telemetry.",
    "components": [
      {
        "id": "cli",
        "name": "Strict CLI",
        "responsibilities": [
          "Return deterministic output",
          "Avoid telemetry"
        ],
        "interfaces": [
          "command-line"
        ],
        "dependencies": []
      }
    ],
    "adrs": [
      {
        "id": "ADR-001",
        "title": "Enforce strict typing",
        "status": "accepted",
        "context": "Require strict type checks for reliability.",
        "decision": "Use mypy strict configuration.",
        "consequences": [
          "Type annotations required for public functions."
        ]
      }
    ]
  },
  {
    "summary": "Scaffold edge case fixture",
    "operations": [
      {
        "op": "write_file",
        "path": "README.md",
        "content": "# Edge Case Fixture\n\nTelemetry: disabled by default.\n\n## Install\n\n```bash\npython -m pip install -e .[dev]\n```\n\n## Run\n\n```bash\npython -m edge_case_fixture.cli\n```\n"
      },
      {
        "op": "write_file",
        "path": "pyproject.toml",
        "content": "[build-system]\nrequires = [\"setuptools>=69\", \"wheel\"]\nbuild-backend = \"setuptools.build_meta\"\n\n[project]\nname = \"edge-case-fixture\"\nversion = \"0.1.0\"\ndescription = \"Strict CLI fixture\"\nrequires-python = \">=3.11\"\ndependencies = []\n\n[project.optional-dependencies]\ndev = [\"pytest==8.2.0\", \"ruff==0.5.0\", \"mypy==1.10.0\", \"bandit==1.7.9\", \"build==1.2.1\"]\n\n[tool.setuptools]\npackage-dir = {\"\" = \"src\"}\n\n[tool.setuptools.packages.find]\nwhere = [\"src\"]\n\n[tool.ruff]\nline-length = 100\ntarget-version = \"py311\"\n\n[tool.ruff.lint]\nselect = [\"E\", \"F\", \"I\", \"B\", \"UP\", \"N\"]\n\n[tool.pytest.ini_options]\npythonpath = [\"src\"]\n"
      },
      {
        "op": "write_file",
        "path": "mypy.ini",
        "content": "[mypy]\npython_version = 3.11\nstrict = True\nwarn_unused_configs = True\n"
      },
      {
        "op": "write_file",
        "path": "requirements.txt",
        "content": "# Pinned requirements for reproducible builds\n"
      },
      {
        "op": "write_file",
        "path": "src/edge_case_fixture/__init__.py",
        "content": "\"\"\"Edge case fixture package.\"\"\"\n"
      },
      {
        "op": "write_file",
        "path": "src/edge_case_fixture/cli.py",
        "content": "\"\"\"Strict CLI entrypoint.\"\"\"\n\nfrom __future__ import annotations\n\nfrom collections.abc import Sequence\n\n\ndef render_message(args: Sequence[str] | None = None) -> str:\n    \"\"\"Return a deterministic message for strict mode validation.\"\"\"\n    _ = args\n    return \"secure hello\"\n\n\ndef main() -> None:\n    \"\"\"Execute the strict CLI entrypoint.\"\"\"\n    print(render_message())\n\n\nif __name__ == \"__main__\":\n    main()\n"
      },
      {
        "op": "write_file",
        "path": "tests/test_edge_case.py",
        "content": "\"\"\"Tests for the edge case fixture.\"\"\"\n\nfrom edge_case_fixture.cli import render_message\n\n\ndef test_render_message() -> None:\n    \"\"\"Ensure the CLI returns the expected message.\"\"\"\n    assert render_message([]) == \"secure hello\"\n"
      }
    ],
    "verification_commands": []
  }
]
